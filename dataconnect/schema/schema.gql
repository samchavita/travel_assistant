# -----------------------------
# USERS TABLE
# -----------------------------
type User @table(name: "users", singular: "user", key: ["userId"]) {
  userId: String! 
  displayname: String!
  email: String! @unique
  createdAt: Timestamp! @default(expr: "request.time")
  type: String! @default(value: "client") # "client" or "admin"
  
  avatarKey: String! @default(value: "default")
}

# -----------------------------
# PLACES TABLE
# -----------------------------
type Place @table(name: "places", singular: "place", key: ["placeId"]) {
  placeId: UUID! @default(expr: "uuidV4()")
  name: String!
  description: String
  coordinates: String!
  images: [String!]
  createdAt: Timestamp! @default(expr: "request.time")
}

# -----------------------------
# ROUTES TABLE
# -----------------------------
type Route @table(name: "routes", singular: "route", key: ["routeId"]) {
  routeId: UUID! @default(expr: "uuidV4()")
  userId: String!    # foreign key reference to users.user_id
  name: String!
  description: String
  createdAt: Timestamp! @default(expr: "request.time")
}
