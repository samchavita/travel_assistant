# -----------------------------
# USERS QUERIES
# -----------------------------

# Get all users
query ListUsers {
  user {
    user_id
    displayname
    email
    created_at
  }
}

# Get a single user by ID
query GetUser($user_id: UUID!) {
  user_by_pk(user_id: $user_id) {
    user_id
    displayname
    email
    created_at
  }
}

# -----------------------------
# PLACES QUERIES
# -----------------------------

# Get all places
query ListPlaces {
  place {
    place_id
    name
    description
    coordinates
    images
    created_at
  }
}

# Get a single place by ID
query GetPlace($place_id: UUID!) {
  place_by_pk(place_id: $place_id) {
    place_id
    name
    description
    coordinates
    images
    created_at
  }
}

# -----------------------------
# ROUTES QUERIES
# -----------------------------

# Get all routes
query ListRoutes {
  route {
    route_id
    name
    description
    user_id
    created_at
  }
}

# Get a single route by ID
query GetRoute($route_id: UUID!) {
  route_by_pk(route_id: $route_id) {
    route_id
    name
    description
    user_id
    created_at
  }
}

# Get all routes of a user
query GetUserRoutes($user_id: UUID!) {
  route(where: {user_id: {_eq: $user_id}}) {
    route_id
    name
    description
    created_at
  }
}

# -----------------------------
# ROUTE_PLACES QUERIES
# -----------------------------

# Get all route_place entries
query ListRoutePlaces {
  route_place {
    route_place_id
    route_id
    place_id
    order_index
    created_at
  }
}

# Get all places of a route (ordered)
query GetRouteWithPlaces($route_id: UUID!) {
  route_place(where: {route_id: {_eq: $route_id}}, order_by: {order_index: asc}) {
    order_index
    place {
      place_id
      name
      description
      coordinates
      images
    }
  }
}

# Get all routes that include a specific place
query GetRoutesByPlace($place_id: UUID!) {
  route_place(where: {place_id: {_eq: $place_id}}) {
    route {
      route_id
      name
      description
      user_id
    }
  }
}
